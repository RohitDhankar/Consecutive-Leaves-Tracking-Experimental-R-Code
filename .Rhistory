d <- read.csv("C:/Users/Rohit/Desktop/HR-Cons.Leaves/d.csv")
View(d)
s1<-sum(d[1,2:91])
x <- cbind(x1 = 3, x2 = c(4:1, 2:5))
View(x)
rowSums(x)
rowSum(x[1,])
rowSums(x[1,])
sum(x[1,])
d1<- c(d[-1])
d1<- c(d[2:91])
d1<- c(d[2:91])
d1<- as.data.frame(d[2:91])
View(`d1`)
d<- as.data.frame(d[2:91])
View(d)
s1<-sum(d[1,])
s1
ss<-addmargins(d,FUN=list(Total=sum),quiet=T)
?addmargins
ss<-addmargins(d,FUN=list(Sum=sum),quiet=T)
ss<-addmargins(d,c(1,3),FUN=list(Sum=sum),quiet=T)
ss<-addmargins(d,c(1,2),FUN=list(Sum=sum),quiet=T)
ss<-addmargins(d,quiet=T)
Aye <- sample(c("Yes", "Si", "Oui"), 177, replace = TRUE)
Bee <- sample(c("Hum", "Buzz"), 177, replace = TRUE)
Sea <- sample(c("White", "Black", "Red", "Dead"), 177, replace = TRUE)
(A <- table(Aye, Bee, Sea))
addmargins(A)
ftable(A)
ftable(addmargins(A))
ftable(addmargins(d))
Aye
?apply
row.sums <- apply(d, 1, sum)
row.sums<-as.data.frame(row.sums)
View(row.sums)
s1<-sum(d[1,]) ; s1
row.sums <- apply(d, 1, sum) ; row.sums<-as.data.frame(row.sums)
row.sums <- apply(d, 1, sum)
class(row.sums)
str(row.sums)
ds<-cbind(d,as.data.frame(row.sums))
View(ds)
d<- as.data.frame(d[2:91])
d <- read.csv("C:/Users/Rohit/Desktop/HR-Cons.Leaves/d.csv")
d<- as.data.frame(d[2:91])
s1<-sum(d[1,]) ; s1
ds<-cbind(d,as.data.frame(apply(d, 1, sum)))
View(ds)
d<-cbind(d,as.data.frame(apply(d, 1, sum)))
View(d)
d <- read.csv("C:/Users/Rohit/Desktop/HR-Cons.Leaves/d.csv")
View(d)
d<- as.data.frame(d[2:91])
s1<-sum(d[1,]) ; s1
d<-cbind(d,as.data.frame(apply(d, 1, sum)))
View(d)
d<-c(rownames(d)[,91],"Sum Days P")
d<-c(colnames(d)[,91],"Sum Days P")
d<-c(colnames(d)[,90],"Sum Days P")
d<-c(colnames(d)[90,],"Sum Days P")
?colnames
d<-cbind(d,as.data.frame(apply(d, 1, sum)))
colnames(d)[91] <- "Sum"
View(d)
d <- read.csv("C:/Users/Rohit/Desktop/HR-Cons.Leaves/d.csv")
d<- as.data.frame(d[2:91])
d<-cbind(d,as.data.frame(apply(d, 1, sum)))
colnames(d)[90] <- "Sum"
View(d)
colnames(d)[91] <- "Sum"
View(d)
d <- read.csv("C:/Users/Rohit/Desktop/HR-Cons.Leaves/d.csv")
d<- as.data.frame(d[2:91])
d<-cbind(d,as.data.frame(apply(d, 1, sum)))
colnames(d)[91] <- "Sum"
View(d)
ss<-as.data.frame(apply(d==0,1,sum))
View(ss)
d<-cbind(d,as.data.frame(apply(d==0, 1, sum)))
View(d)
colnames(d)[92] <- "Sum-L"
View(d)
colnames(d)[91] <- "Sum-P"
View(d)
df<-cbind(
A=c(0,0,3),
B=c(0,2,4),
C=c(0,2,7),
D=c(3,0,4))
View(df)
sZeros  <-  apply(df,1,function(x)which.min(x==0)-1)
sZeros
df
startZeros  <-  apply(df,1,function(x)which.min(x==0)-1)
startZeros
endZeros  <-  apply(df,1,function(x)which.min(rev(x==0))-1)
endZeros
#
#
longestRun  <-  apply(df,1,function(x){
y = rle(x);
max(y$lengths[y$values==0],0)}))
longestRun  <-  apply(df,1,function(x){
y = rle(x);
max(y$lengths[y$values==0],0)})
class(longestRun)
?rle
m <- rev(rep(6:10, 1:5))
m
rle(m)
pmax(longestRun,startZeros +endZeros  )
?which.min
sZs<- apply(d,1,function(x)which.min(x==0)-1)
sZs
startZeros
startZs<- apply(d,1,function(x)which.min(x==0)-1)
stopZs<-apply(df,1,function(x)which.min(rev(x==0))-1)
stopZs<-apply(d,1,function(x)which.min(rev(x==0))-1)
stopZs
?pmax
longestRun<-apply(d,1,function(x){
y = rle(x);
max(y$lengths[y$values==0],0)})
longestRun
pmax(longestRun,startZs+stopZs)
Max_Zeros<-pmax(longestRun,startZs+stopZs)
Max_Zeros<-as.data.frame(pmax(longestRun,startZs+stopZs))
View(Max_Zeros)
dm<-cbind(d,as.data.frame(Max_Zeros))
View(dm)
d<-cbind(d,as.data.frame(Max_Zeros))
View(d)
colnames(d)[93] <- "Max.Zeros"
View(d)
ConsWks<-ifelse(Max_Zeros[i]>14,"Yes","No")
ConsWks<-ifelse(Max_Zeros>14,"Yes","No")
View(ConsWks)
d<-cbind(d,as.data.frame(Max_Zeros))
d<-cbind(d,as.data.frame(ConsWks))
View(d)
d <- read.csv("C:/Users/Rohit/Desktop/HR-Cons.Leaves/d.csv")
d<- as.data.frame(d[2:91])
d<-cbind(d,as.data.frame(apply(d, 1, sum)))
View(d)
colnames(d)[91] <- "Sum-P"
d<-cbind(d,as.data.frame(apply(d==0, 1, sum)))
colnames(d)[92] <- "Sum-L"
View(d)
startZs<-apply(d,1,function(x)which.min(x==0)-1)
stopZs<-apply(d,1,function(x)which.min(rev(x==0))-1)
longestRun<-apply(d,1,function(x)
{
y = rle(x);
max(y$lengths[y$values==0],0)})
Max_Zeros<-as.data.frame(pmax(longestRun,startZs+stopZs))
ConsWks<-ifelse(Max_Zeros>14,"Yes","No") # Converting to Yes / No factor variable for "Two Consecutive Weeks of Leave"
d<-cbind(d,as.data.frame(ConsWks))
View(d)
d <- read.csv("C:/Users/Rohit/Desktop/HR-Cons.Leaves/d.csv")
# Deleting 1st column / variable - Emp ID
d<- as.data.frame(d[2:91])
# Summing all rows using "apply" # create an "integer column vector"
# cbind with DF "d" # Rename new variable / Column as - "Sum-P"
d<-cbind(d,as.data.frame(apply(d, 1, sum)))
colnames(d)[91] <- "Sum-P"
d<-cbind(d,as.data.frame(apply(d==0, 1, sum)))
colnames(d)[92] <- "Sum-L"
# calculate the startZeros
startZs<-apply(d,1,function(x)which.min(x==0)-1)
# gives out only "0" values as None of our ROWS starts with a ZERO value
stopZs<-apply(d,1,function(x)which.min(rev(x==0))-1)
# calculate -longest run of zeros
longestRun<-apply(d,1,function(x)
{
y = rle(x);
max(y$lengths[y$values==0],0)})
Max_Zeros<-as.data.frame(pmax(longestRun,startZs+stopZs))
ConsWks<-ifelse(Max_Zeros>14,"Yes","No") # Converting to Yes / No factor variable for "Two Consecutive Weeks of Leave"
d<-cbind(d,as.data.frame(Max_Zeros))
d<-cbind(d,as.data.frame(ConsWks))
colnames(d)[93] <-"Max.Zeros" ; colnames(d)[94] <-"Cons.Wks"
View(d)
d <- read.csv("C:/Users/Rohit/Desktop/HR-Cons.Leaves/d.csv")
eID<-as.data.frame(d[,1])
View(eID)
eID<-as.data.frame(d[,1]) ;colnames(eID)[1] <- "Emp-ID"
View(eID)
d <- as.data.frame(d[2:91])
d<-cbind(d,as.data.frame(apply(d, 1, sum)))
colnames(d)[91] <- "Sum-P"
# Counting all "0" in a Row # create an "integer column vector"
# cbind with DF "d" # Rename new variable / Column as - "Sum-L"
d<-cbind(d,as.data.frame(apply(d==0, 1, sum)))
colnames(d)[92] <- "Sum-L"
startZs<-apply(d,1,function(x)which.min(x==0)-1)
# gives out only "0" values as None of our ROWS starts with a ZERO value
stopZs<-apply(d,1,function(x)which.min(rev(x==0))-1)
# gives out only "0" values as None of our ROWS ends with
longestRun<-apply(d,1,function(x)
{
y = rle(x);
max(y$lengths[y$values==0],0)})
Max_Zeros<-as.data.frame(pmax(longestRun,startZs+stopZs))
ConsWks<-ifelse(Max_Zeros>14,"Yes","No")
d<-cbind(d,as.data.frame(Max_Zeros))
d<-cbind(d,as.data.frame(ConsWks))
colnames(d)[93] <-"Max.Zeros" ; colnames(d)[94] <-"Cons.Wks"
View(d)
d1<-cbind(eID,d)
View(`d1`)
d<-cbind(eID,d)
View(d)
d <- read.csv("C:/Users/Rohit/Desktop/HR-Cons.Leaves/d.csv")
View(d)
eID <- as.data.frame(d[,1]) ;colnames(eID)[1] <- "Emp-ID"
d <- as.data.frame(d[2:91])
View(d)
d<-cbind(d,as.data.frame(apply(d, 1, sum)))
colnames(d)[91] <- "Sum-P"
View(d)
d<-cbind(d,as.data.frame(apply(d==0, 1, sum)))
colnames(d)[92] <- "Sum-L"
View(d)
# calculate the startZeros
startZs<-apply(d,1,function(x)which.min(x==0)-1)
# gives out only "0" values as None of our ROWS starts with a ZERO value
stopZs<-apply(d,1,function(x)which.min(rev(x==0))-1)
# gives out only "0" values as None of our ROWS ends with a ZERO value
longestRun<-apply(d,1,function(x)
{
y = rle(x);
max(y$lengths[y$values==0],0)})
Max_Zeros<-as.data.frame(pmax(longestRun,startZs+stopZs))
ConsWks<-ifelse(Max_Zeros>14,"Yes","No") # Converting to Yes / No factor variable for "Two Consecutive Weeks of Leave"
View(ConsWks)
d<-cbind(d,as.data.frame(Max_Zeros))
d<-cbind(d,as.data.frame(ConsWks))
View(d)
colnames(d)[93] <-"Max.Zeros" ; colnames(d)[94] <-"Cons.Wks"
d<-cbind(eID,d)
View(d)
d <- read.csv("C:/Users/Rohit/Desktop/HR-Cons.Leaves/d.csv")
eID <- as.data.frame(d[,1]) ;colnames(eID)[1] <- "Emp-ID"
d <- as.data.frame(d[2:91])
d<-cbind(d,as.data.frame(apply(d, 1, sum)))
colnames(d)[91] <- "Sum-P"
d<-cbind(d,as.data.frame(apply(d==0, 1, sum)))
colnames(d)[92] <- "Sum-L"
startZs<-apply(d,1,function(x)which.min(x==0)-1)
stopZs<-apply(d,1,function(x)which.min(rev(x==0))-1)
longestRun<-apply(d,1,function(x)
{
y = rle(x);
max(y$lengths[y$values==0],0)})
Max_Zeros<-as.data.frame(pmax(longestRun,startZs+stopZs))
ConsWks<-ifelse(Max_Zeros>14,"Yes","No") # Co
d<-cbind(d,as.data.frame(Max_Zeros))
d<-cbind(d,as.data.frame(ConsWks))
colnames(d)[93] <-"Max.Zeros" ; colnames(d)[94] <-"Cons.Wks"
d<-cbind(eID,d)
